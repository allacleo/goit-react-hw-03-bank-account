{"version":3,"sources":["components/Dashboard/Dashboard.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","services/storage.js","components/Dashboard/Dashboard.js","components/App/App.js","index.js"],"names":["module","exports","Controls","state","inputValue","handleChangeInput","e","amount","Number","target","value","setState","handleDeposit","preventDefault","props","onDeposit","handleWithdraw","onWithdraw","this","className","style","controls","type","input","name","onChange","button","onClick","Component","Balance","income","expenses","balance","role","aria-label","defaultProp","TransactionHistory","items","history","map","item","key","id","date","localStorage","setItem","JSON","stringify","err","console","log","notes","getItem","parse","toast","configure","autoClose","draggable","Dashboard","transactions","transactionItem","shortid","generate","Date","toLocaleString","info","warning","calculateMoney","reduce","acc","transaction","Deposit","Withdraw","storage","prevProps","prevState","dashboard","length","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab02f0cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__nIpxQ\",\"controls\":\"Dashboard_controls__2F8eL\",\"input\":\"Dashboard_input__J0OM0\",\"balance\":\"Dashboard_balance__itDO8\",\"history\":\"Dashboard_history__dxDjN\",\"button\":\"Dashboard_button__3B_bC\"};","import React, {Component} from 'react';\r\nimport T from 'prop-types';\r\n\r\nimport style from '../Dashboard/Dashboard.module.css';\r\n\r\nexport default class Controls extends Component {\r\n    static propTypes ={\r\n        onDeposit: T.func.isRequired,\r\n        onWithdraw: T.func.isRequired,\r\n    };\r\n\r\n    state = {\r\n        inputValue: '',\r\n    };\r\n\r\n    handleChangeInput = e => {\r\n        const amount = Number(e.target.value);\r\n        this.setState({inputValue: amount});\r\n    };\r\n\r\n    handleDeposit = e => {\r\n        e.preventDefault();\r\n        this.props.onDeposit(this.state.inputValue);\r\n        this.setState({inputValue: \"\"});\r\n    };\r\n\r\n    handleWithdraw = e => {\r\n        e.preventDefault();\r\n        this.props.onWithdraw(this.state.inputValue);\r\n        this.setState({inputValue: \"\"});\r\n    };\r\n\r\n    render() {\r\n        const {inputValue} = this.state;\r\n\r\n        return (\r\n        <section className={style.controls}>\r\n    <input type=\"number\" \r\n    className={style.input} \r\n    name=\"amount\" \r\n    value={inputValue}\r\n    onChange={this.handleChangeInput}/>\r\n    <button \r\n    type=\"button\"\r\n    className={style.button}\r\n    onClick={this.handleDeposit}\r\n    >\r\n        Deposit\r\n    </button>\r\n    <button \r\n    type=\"button\"\r\n    className={style.button}\r\n    onClick={this.handleWithdraw}\r\n    >\r\n        Withdraw\r\n    </button>\r\n  </section>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport T from 'prop-types';\r\nimport style from '../Dashboard/Dashboard.module.css';\r\n\r\nconst Balance = ({ income, expenses, balance }) => (\r\n  <section className={style.balance}>\r\n    <span role=\"img\" aria-label=\"Up Arrow\">\r\n      ⬆️{income}$\r\n    </span>\r\n    <span role=\"img\" aria-label=\"Down Arrow\">\r\n      ⬇️{expenses}$\r\n    </span>\r\n    <span>Balance: {balance}$</span>\r\n  </section>\r\n);\r\n\r\nBalance.defaultProp = {\r\n  income: 0,\r\n  expenses: 0,\r\n};\r\n\r\nBalance.propTypes = {\r\n  income: T.number.isRequired,\r\n  expenses: T.number.isRequired,\r\n  balance: T.number.isRequired,\r\n};\r\n\r\nexport default Balance;","import React from 'react';\r\nimport T from 'prop-types';\r\nimport style from '../Dashboard/Dashboard.module.css';\r\n\r\nconst TransactionHistory = ({items}) => (\r\n    <table className={style.history}>\r\n    <thead>\r\n      <tr>\r\n        <th>Transaction</th>\r\n        <th>Amount</th>\r\n        <th>Date</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n        {items.map(item => (\r\n          <tr key={item.id}>\r\n          <td>{item.type}</td>\r\n          <td>{item.amount}$</td>\r\n          <td>{item.date}</td>\r\n        </tr> \r\n        ))}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nTransactionHistory.propTypes = {\r\n    items: T.arrayOf(\r\n      T.shape({\r\n        id: T.string.isRequired,\r\n        type: T.string.isRequired,\r\n        amount: T.number.isRequired,\r\n        date: T.string.isRequired,\r\n    }).isRequired,\r\n    ).isRequired,\r\n};\r\n\r\nexport default TransactionHistory;","const save = (key, value) => {\r\n    try {\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const get = (key) => {\r\n    try {\r\n        const notes = localStorage.getItem(key);\r\n        return notes ? JSON.parse(notes) : null;\r\n    } catch (e) {\r\n        console.log('err');\r\n    }\r\n};\r\n\r\nexport default {\r\n    save,\r\n    get,\r\n};\r\n  \r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport shortid from 'shortid';\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Controls from '../Controls/Controls';\r\nimport Balance from '../Balance/Balance';\r\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\r\nimport style from './Dashboard.module.css';\r\nimport storage from '../../services/storage';\r\n\r\ntoast.configure({\r\n    autoClose: 5000,\r\n    draggable: false,\r\n  });\r\n\r\n\r\n\r\nexport default class Dashboard extends Component {\r\n    state = {\r\n        transactions: [],\r\n        balance: 0,\r\n    };\r\n\r\n    componentDidMount() {\r\n        const transactions = storage.get('transactions');\r\n        const balance = storage.get('balance');\r\n        \r\n        if (transactions && balance) {\r\n            this.setState({transactions, balance});\r\n        }\r\n    \r\n    }\r\n    \r\n    componentDidUpdate(prevProps, prevState) {\r\n        const {transactions, balance} = this.state;\r\n    \r\n        if (prevState. transactions !== transactions) {\r\n            storage.save('transactions', transactions);\r\n            storage.save('balance', balance);\r\n        }\r\n    };\r\n\r\nhandleDeposit = amount => {\r\n    if (amount === 0 || amount === '') {\r\n        toast.info('Введите сумму для проведения операции!');\r\n        return;\r\n    }\r\n\r\n    this.setState(({transactions, balance}) => {\r\n        const transactionItem = {\r\n            id: shortid.generate(),\r\n            type: 'Deposit',\r\n            amount,\r\n            date: new Date().toLocaleString(),\r\n        };\r\n        return {\r\n            transactions: [...transactions, transactionItem],\r\n            balance: balance + amount,\r\n        };\r\n    });\r\n};\r\n\r\nhandleWithdraw = amount => {\r\n    if (amount === 0 || amount === '') {\r\n        toast.info('Введите сумму для проведения операции!');\r\n        return;\r\n    }\r\n    if (this.state.balance < amount) {\r\n        toast.warning('На счету недостаточно для проведения операции!');\r\n        return;\r\n    }\r\n\r\n    this.setState (({transactions, balance}) => {\r\n        const transactionItem = {\r\n            id: shortid.generate(),\r\n            type: 'Withdraw',\r\n            amount,\r\n            date: new Date().toLocaleString(),\r\n        };\r\n\r\n        return {\r\n            transactions: [...transactions, transactionItem],\r\n            balance: balance - amount,\r\n        };\r\n    });\r\n};\r\n\r\ncalculateMoney = () => {\r\n    const {transactions} = this.state;\r\n\r\n    return transactions.reduce(\r\n        (acc, transaction) => {\r\n           acc[transaction.type] += transaction.amount;\r\n            return acc;\r\n        },\r\n        {\r\n            Deposit: 0,\r\n            Withdraw: 0,\r\n        },\r\n    );\r\n};\r\n\r\nrender () {\r\n    const { transactions, balance} = this.state;\r\n    const income = this.calculateMoney().Deposit;\r\n    const expenses = this.calculateMoney().Withdraw;\r\n\r\n    return (\r\n        <div className={style.dashboard}>\r\n          <Controls\r\n            onDeposit={this.handleDeposit}\r\n            onWithdraw={this.handleWithdraw}\r\n          />\r\n          {transactions.length > 0 && (\r\n            <Balance balance={balance} income={income} expenses={expenses} />\r\n          )}\r\n  \r\n          {transactions.length > 0 && <TransactionHistory items={transactions} />}\r\n  \r\n          <ToastContainer />\r\n        </div>\r\n    );\r\n}\r\n}\r\n\r\n  ","import React from 'react';\n\nimport Dashboard from '../Dashboard/Dashboard';\n\nconst App = () => (\n  <>\n    <Dashboard />\n  </>\n);\n\nexport default App;\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}